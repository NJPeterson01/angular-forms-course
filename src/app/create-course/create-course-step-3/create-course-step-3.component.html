<h3>Add Course Lessons</h3>

<div class="add-lessons=form" [formGroup]="form">

    <!-- This is linked to an array of form controls -->
    <ng-container formArrayName="lessons">

        <ng-container *ngFor="let lessonForm of lessons.controls; let i = index">
            <div class="lesson-form-row" [formGroup]="lessonForm">
                <mat-form-field appearance="fill">
                    <input matInput formControlName="title" placeholder="Lesson Title">
                </mat-form-field>
        
                <mat-form-field appearance="fill">
                    <mat-select formControlName="level" placeholder="Lesson Level">
                        <mat-option value="beginner">Beginner</mat-option>
                        <mat-option value="intermediate">Intermediate</mat-option>
                        <mat-option value="advanced">Advanced</mat-option>
                    </mat-select>
                </mat-form-field>
        
                <mat-icon (click)="deleteLesson(i)" class="delete-btn">
                    delete_forever
                </mat-icon>
            </div>
        </ng-container>

    </ng-container>

    <button mat-mini-fab (click)="addLesson()">
        <mat-icon class="add-course-btn">add</mat-icon>
    </button>
</div>